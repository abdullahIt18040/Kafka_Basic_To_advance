## Kafka Cluster ржХрзА?

 Kafka Cluster рж╣рж▓рзЛ ржПржХрж╛ржзрж┐ржХ Kafka Broker (server)-ржПрж░ ржПржХржЯрж┐ ржжрж▓, ржпрж╛рж░рж╛ ржПржХрж╕рж╛ржерзЗ ржХрж╛ржЬ ржХрж░рзЗ message рж╕ржВрж░ржХрзНрж╖ржг, ржкрзНрж░рзЗрж░ржг ржУ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ржХрж░ржгрзЗрж░ ржЬржирзНржпред

ржЕрж░рзНржерж╛рзО, Kafka Cluster = ржЕржирзЗржХржЧрзБрж▓рзЛ Broker ржорж┐рж▓рзЗ ржЧржарж┐ржд ржПржХржЯрж┐ ржмрзЬ рж╕рж┐рж╕рзНржЯрзЗржоред
```
тЪЩя╕П Kafka Cluster-ржПрж░ ржорзВрж▓ ржЕржВрж╢ржЧрзБрж▓рзЛ:
ржЕржВрж╢	ржХрж╛ржЬ
Broker	Kafka-ржПрж░ ржорзВрж▓ рж╕рж╛рж░рзНржнрж╛рж░, ржпрзЗржЦрж╛ржирзЗ message рж╕ржВрж░ржХрзНрж╖ржг рж╣рзЯред ржкрзНрж░рждрж┐ржЯрж┐ broker ржПржХржЯрж┐ ID ржкрж╛рзЯ (ржпрзЗржоржи broker-1, broker-2, broker-3)ред
Topic	ржбрзЗржЯрж╛ рж░рж╛ржЦрж╛рж░ ржЬржирзНржп рж▓ржЬрж┐ржХрзНржпрж╛рж▓ ржирж╛ржо ржмрж╛ ржХрзНржпрж╛ржЯрзЗржЧрж░рж┐ (ржпрзЗржоржи orders, payments)ред
Partition	ржкрзНрж░рждрж┐ржЯрж┐ topic ржЫрзЛржЯ ржЫрзЛржЯ ржнрж╛ржЧрзЗ ржнрж╛ржЧ рж╣рзЯред
Producer	ржпрзЗ Kafka-рждрзЗ data ржкрж╛ржарж╛рзЯ (write ржХрж░рзЗ)ред
Consumer	ржпрзЗ Kafka ржерзЗржХрзЗ data ржкрзЬрзЗ (read ржХрж░рзЗ)ред
Controller (ZooKeeper ржмрж╛ KRaft)	Cluster-ржПрж░ leader ржирж┐рж░рзНржмрж╛ржЪржи ржУ broker рж╕ржоржирзНржмрзЯ ржХрж░рзЗред
ЁЯзй ржПржХржЯрж┐ ржЙржжрж╛рж╣рж░ржг ржжрж┐рзЯрзЗ ржмрзЛржЭрж╛ ржпрж╛ржХ:

ржзрж░рзБржи, ржЖржкржирж╛рж░ Kafka Cluster-ржП рзйржЯрж┐ broker ржЖржЫрзЗ ЁЯСЗ

Broker	Port	Description
Broker 1	9092	Topic partition-0
Broker 2	9093	Topic partition-1
Broker 3	9094	Topic partition-2

ЁЯУж ржЖржкржирж┐ ржпржжрж┐ orders ржирж╛ржорзЗрж░ ржПржХржЯрж┐ topic рждрзИрж░рж┐ ржХрж░рзЗржи ржПржмржВ рж╕рзЗржЯрж┐рждрзЗ рзйржЯрж┐ partition ржжрзЗржи тАФ
рждрж╛рж╣рж▓рзЗ ржкрзНрж░рждрж┐ржЯрж┐ partition ржЖрж▓рж╛ржжрж╛ broker-ржП рж╕ржВрж░ржХрзНрж╖рж┐ржд рж╣ржмрзЗред

ЁЯСЙ ржПрждрзЗ ржбрзЗржЯрж╛ distributed рж╣рзЯрзЗ ржпрж╛рзЯ, ржПржмржВ load balancing рж╣рзЯред

ЁЯФБ Fault Tolerance (рждрзНрж░рзБржЯрж┐ рж╕рж╣ржирж╢рзАрж▓рждрж╛):

Kafka Cluster-ржПрж░ ржмрзЬ рж╕рзБржмрж┐ржзрж╛ рж╣рж▓рзЛ тАФ
ржпржжрж┐ ржХрзЛржирзЛ broker ржмржирзНржз рж╣рзЯрзЗ ржпрж╛рзЯ, ржЕржирзНржп broker рждрж╛рж░ replica ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржХрж╛ржЬ ржЪрж╛рж▓рж┐рзЯрзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред
ржПржЯрж╛ржЗ replication ржПржмржВ fault tolerance ржПрж░ ржорзВрж▓ ржЙржжрзНржжрзЗрж╢рзНржпред

ЁЯЪА Kafka Cluster-ржПрж░ рж╕рзБржмрж┐ржзрж╛:
рж╕рзБржмрж┐ржзрж╛	ржмрзНржпрж╛ржЦрзНржпрж╛
тЪб Scalability	ржмрзЗрж╢рж┐ рж▓рзЛржб рж╕рж╛ржорж▓рж╛рждрзЗ ржирждрзБржи broker ржпрзЛржЧ ржХрж░рж╛ ржпрж╛рзЯред
ЁЯЫбя╕П Fault Tolerance	ржХрзЛржирзЛ broker ржмржирзНржз рж╣рж▓рзЗ ржЕржирзНржп broker ржХрж╛ржЬ ржЪрж╛рж▓рж┐рзЯрзЗ ржирзЗрзЯред
ЁЯУИ High Throughput	ржПржХрж╛ржзрж┐ржХ partition parallel ржнрж╛ржмрзЗ message рж╣рзНржпрж╛ржирзНржбрж▓ ржХрж░рзЗред
ЁЯФЧ Replication	ржбрзЗржЯрж╛рж░ ржХржкрж┐ ржмрж┐ржнрж┐ржирзНржи broker-ржП ржерж╛ржХрзЗ, ржлрж▓рзЗ ржбрзЗржЯрж╛ рж╣рж╛рж░рж╛рзЯ ржирж╛ред
ЁЯЦея╕П Local Cluster (Single-node)

ржпржжрж┐ ржЖржкржирж┐ рж╢рзБржзрзБ ржирж┐ржЬрзЗрж░ ржХржорзНржкрж┐ржЙржЯрж╛рж░рзЗ Kafka ржЪрж╛рж▓рж╛ржи (ржПржХржЯрж╛ broker), рждрж╛ржУ рж╕рзЗржЯрж╛ ржПржХржЯрж╛ single-node clusterред
Production рж╕рж┐рж╕рзНржЯрзЗржорзЗ рж╕рж╛ржзрж╛рж░ржгржд рзй ржмрж╛ рждрж╛рж░ ржмрзЗрж╢рж┐ broker ржерж╛ржХрзЗред
```
рж╕ржВржХрзНрж╖рзЗржкрзЗ ржмрж╛ржВрж▓рж╛ рж╕ржВржЬрзНржЮрж╛:
Kafka Cluster рж╣рж▓рзЛ ржПржХрж╛ржзрж┐ржХ Kafka Broker-ржПрж░ рж╕ржоржирзНржмрзЯрзЗ ржЧржарж┐ржд ржПржХржЯрж┐ ржбрж┐рж╕рзНржЯрзНрж░рж┐ржмрж┐ржЙржЯрзЗржб рж╕рж┐рж╕рзНржЯрзЗржо, ржпрзЗржЦрж╛ржирзЗ ржбрзЗржЯрж╛ ржнрж╛ржЧ рж╣рзЯрзЗ рж╕ржВрж░ржХрзНрж╖рж┐ржд рж╣рзЯ ржПржмржВ ржХрзЛржирзЛ рж╕рж╛рж░рзНржнрж╛рж░ ржирж╖рзНржЯ рж╣рж▓рзЗржУ рж╕рж┐рж╕рзНржЯрзЗржо ржХрж╛ржЬ ржЪрж╛рж▓рж┐рзЯрзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред

